function kvLookup(t,e,i,o,n,a){var r=o,l=!1;if(null!==t&&void 0!==t&&(null!==i&&void 0!==i&&"object"==typeof i&&t in i?(r=i[t],l=!0):null!==e&&void 0!==e&&"object"==typeof e&&t in e?(r=e[t],l=!0):r=o,l===!0&&null!==n&&void 0!==n))switch(n){case"int":r=parseInt(r,10);break;case"float":r=parseFloat(r)}return r}function getColor(t,e,i,o,n){var a,r,l,c,m,u,f,s,g,d,p,h,v,x,o=o||n.length>0;if(n.length>0)for(var k=0;k<n.length;k++)if(t>=n[k].lo&&t<=n[k].hi)return n[k].color;if(a=i.length,1===a)return i[0];for(r=o?1/a:1/(a-1),l=[],k=0;k<i.length;k++)c=o?r*(k+1):r*k,m=parseInt(cutHex(i[k]).substring(0,2),16),u=parseInt(cutHex(i[k]).substring(2,4),16),f=parseInt(cutHex(i[k]).substring(4,6),16),l[k]={pct:c,color:{r:m,g:u,b:f}};if(0===e)return"rgb("+[l[0].color.r,l[0].color.g,l[0].color.b].join(",")+")";for(var b=0;b<l.length;b++)if(e<=l[b].pct)return o?"rgb("+[l[b].color.r,l[b].color.g,l[b].color.b].join(",")+")":(s=l[b-1],g=l[b],d=g.pct-s.pct,p=(e-s.pct)/d,h=1-p,v=p,x={r:Math.floor(s.color.r*h+g.color.r*v),g:Math.floor(s.color.g*h+g.color.g*v),b:Math.floor(s.color.b*h+g.color.b*v)},"rgb("+[x.r,x.g,x.b].join(",")+")")}function setDy(t,e,i){(!ie||ie>9)&&t.node.firstChild.attributes.dy&&(t.node.firstChild.attributes.dy.value=0)}function getRandomInt(t,e){return Math.floor(Math.random()*(e-t+1))+t}function cutHex(t){return"#"==t.charAt(0)?t.substring(1,7):t}function humanFriendlyNumber(t,e){var i,o,n,a;for(i=Math.pow,o=i(10,e),n=7;n;)a=i(10,3*n--),t>=a&&(t=Math.round(t*o/a)/o+"KMGTPE"[n]);return t}function formatNumber(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}function getStyle(t,e){var i="";return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),i=t.currentStyle[e]),i}function onCreateElementNsReady(t){void 0!==document.createElementNS?t():setTimeout(function(){onCreateElementNsReady(t)},100)}function extend(t){t=t||{};for(var e=1;e<arguments.length;e++)if(arguments[e])for(var i in arguments[e])arguments[e].hasOwnProperty(i)&&(t[i]=arguments[e][i]);return t}JustGage=function(t){var e=this;if(null===t||void 0===t)return console.log("* justgage: Make sure to pass options to the constructor!"),!1;var i;if(null!==t.id&&void 0!==t.id){if(i=document.getElementById(t.id),!i)return console.log("* justgage: No element with id : %s found",t.id),!1}else{if(null===t.parentNode||void 0===t.parentNode)return console.log("* justgage: Make sure to pass the existing element id or parentNode to the constructor."),!1;i=t.parentNode}var o=i.dataset?i.dataset:{},n=null!==t.defaults&&void 0!==t.defaults?t.defaults:!1;n!==!1&&(t=extend({},t,n),delete t.defaults),e.config={id:t.id,value:kvLookup("value",t,o,0,"float"),defaults:kvLookup("defaults",t,o,0,!1),parentNode:kvLookup("parentNode",t,o,null),width:kvLookup("width",t,o,null),height:kvLookup("height",t,o,null),title:kvLookup("title",t,o,""),titleFontColor:kvLookup("titleFontColor",t,o,"#999999"),titleFontFamily:kvLookup("titleFontFamily",t,o,"sans-serif"),titlePosition:kvLookup("titlePosition",t,o,"above"),valueFontColor:kvLookup("valueFontColor",t,o,"#fff"),valueFontFamily:kvLookup("valueFontFamily",t,o,"Poppins"),symbol:kvLookup("symbol",t,o,""),min:kvLookup("min",t,o,0,"float"),minTxt:kvLookup("minTxt",t,o,!1),max:kvLookup("max",t,o,100,"float"),maxTxt:kvLookup("maxTxt",t,o,!1),reverse:kvLookup("reverse",t,o,!1),humanFriendlyDecimal:kvLookup("humanFriendlyDecimal",t,o,0),textRenderer:kvLookup("textRenderer",t,o,null),onAnimationEnd:kvLookup("onAnimationEnd",t,o,null),gaugeWidthScale:kvLookup("gaugeWidthScale",t,o,1),gaugeColor:kvLookup("gaugeColor",t,o,"#edebeb"),label:kvLookup("label",t,o,""),labelFontColor:kvLookup("labelFontColor",t,o,"#b3b3b3"),shadowOpacity:kvLookup("shadowOpacity",t,o,.2),shadowSize:kvLookup("shadowSize",t,o,5),shadowVerticalOffset:kvLookup("shadowVerticalOffset",t,o,3),levelColors:kvLookup("levelColors",t,o,["#ff0000"],"array",","),startAnimationTime:kvLookup("startAnimationTime",t,o,1200),startAnimationType:kvLookup("startAnimationType",t,o,"linear"),refreshAnimationTime:kvLookup("refreshAnimationTime",t,o,700),refreshAnimationType:kvLookup("refreshAnimationType",t,o,">"),donutStartAngle:kvLookup("donutStartAngle",t,o,90),valueMinFontSize:kvLookup("valueMinFontSize",t,o,13),titleMinFontSize:kvLookup("titleMinFontSize",t,o,10),labelMinFontSize:kvLookup("labelMinFontSize",t,o,10),minLabelMinFontSize:kvLookup("minLabelMinFontSize",t,o,10),maxLabelMinFontSize:kvLookup("maxLabelMinFontSize",t,o,10),hideValue:kvLookup("hideValue",t,o,!1),hideMinMax:kvLookup("hideMinMax",t,o,!1),hideInnerShadow:kvLookup("hideInnerShadow",t,o,!1),humanFriendly:kvLookup("humanFriendly",t,o,!1),noGradient:kvLookup("noGradient",t,o,!1),donut:kvLookup("donut",t,o,!1),relativeGaugeSize:kvLookup("relativeGaugeSize",t,o,!1),counter:kvLookup("counter",t,o,!1),decimals:kvLookup("decimals",t,o,0),customSectors:kvLookup("customSectors",t,o,[]),formatNumber:kvLookup("formatNumber",t,o,!1),pointer:kvLookup("pointer",t,o,!1),pointerOptions:kvLookup("pointerOptions",t,o,[])};var a,r,l,c,m,u,f,s,g,d,p,h,v,x,k,b,y,M,F,S,L,w;e.config.value>e.config.max&&(e.config.value=e.config.max),e.config.value<e.config.min&&(e.config.value=e.config.min),e.originalValue=kvLookup("value",t,o,-1,"float"),null!==e.config.id&&null!==document.getElementById(e.config.id)?e.canvas=Raphael(e.config.id,"100%","100%"):null!==e.config.parentNode&&(e.canvas=Raphael(e.config.parentNode,"100%","100%")),e.config.relativeGaugeSize===!0&&e.canvas.setViewBox(0,0,200,150,!0),e.config.relativeGaugeSize===!0?(a=200,r=150):null!==e.config.width&&null!==e.config.height?(a=e.config.width,r=e.config.height):null!==e.config.parentNode?(e.canvas.setViewBox(0,0,200,150,!0),a=200,r=150):(a=1*getStyle(document.getElementById(e.config.id),"width").slice(0,-2),r=1*getStyle(document.getElementById(e.config.id),"height").slice(0,-2)),e.config.donut===!0?(a>r?(c=r,l=c):r>a?(l=a,c=l,c>r&&(m=c/r,c/=m,l=c/m)):(l=a,c=l),u=(a-l)/2,f=(r-c)/2,s=c/8>10?c/10:10,g=u+l/2,d=f+c/11,p=c/6.4>16?c/5.4:15,h=u+l/2,v=""!==e.config.label?f+c/1.85:f+c/1.7,x=c/16>10?c/16:10,k=u+l/2,b=v+x,y=c/16>10?c/16:10,M=u+l/10+l/6.666666666666667*e.config.gaugeWidthScale/2,F=b,S=c/16>10?c/16:10,L=u+l-l/10-l/6.666666666666667*e.config.gaugeWidthScale/2,w=b):(a>r?(c=r,l=1.25*c,l>a&&(m=l/a,l/=m,c/=m)):r>a?(l=a,c=l/1.25,c>r&&(m=c/r,c/=m,l=c/m)):(l=a,c=.75*l),u=(a-l)/2,f=(r-c)/2,"below"===e.config.titlePosition&&(f-=c/6.4),s=c/8>e.config.titleMinFontSize?c/10:e.config.titleMinFontSize,g=u+l/2,d=f+("below"===e.config.titlePosition?1.07*c:c/6.4),p=c/6.5>e.config.valueMinFontSize?c/6.5:e.config.valueMinFontSize,h=u+l/2,v=f+c/1.275,x=c/16>e.config.labelMinFontSize?c/16:e.config.labelMinFontSize,k=u+l/2,b=v+p/2+5,y=c/16>e.config.minLabelMinFontSize?c/16:e.config.minLabelMinFontSize,M=u+l/10+l/6.666666666666667*e.config.gaugeWidthScale/2,F=b,S=c/16>e.config.maxLabelMinFontSize?c/16:e.config.maxLabelMinFontSize,L=u+l-l/10-l/6.666666666666667*e.config.gaugeWidthScale/2,w=b),e.params={canvasW:a,canvasH:r,widgetW:l,widgetH:c,dx:u,dy:f,titleFontSize:s,titleX:g,titleY:d,valueFontSize:p,valueX:h,valueY:v,labelFontSize:x,labelX:k,labelY:b,minFontSize:y,minX:M,minY:F,maxFontSize:S,maxX:L,maxY:w},w=null,e.canvas.customAttributes.pki=function(t,e,i,o,n,a,r,l,c,m){var u,f,s,g,d,p,h,v,x,k;return c?(u=(1-2*(t-e)/(i-e))*Math.PI,f=o/2-o/7,s=f-o/6.666666666666667*l,g=o/2+a,d=n/1.95+r,p=o/2+a+f*Math.cos(u),h=n-(n-d)-f*Math.sin(u),v=o/2+a+s*Math.cos(u),x=n-(n-d)-s*Math.sin(u),k="M"+(g-s)+","+d+" ",k+="L"+(g-f)+","+d+" ",t>(i-e)/2&&(k+="A"+f+","+f+" 0 0 1 "+(g+f)+","+d+" "),k+="A"+f+","+f+" 0 0 1 "+p+","+h+" ",k+="L"+v+","+x+" ",t>(i-e)/2&&(k+="A"+s+","+s+" 0 0 0 "+(g+s)+","+d+" "),k+="A"+s+","+s+" 0 0 0 "+(g-s)+","+d+" ",k+="Z ",{path:k}):(u=(1-(t-e)/(i-e))*Math.PI,f=o/2-o/10,s=f-o/6.666666666666667*l,g=o/2+a,d=n/1.25+r,p=o/2+a+f*Math.cos(u),h=n-(n-d)-f*Math.sin(u),v=o/2+a+s*Math.cos(u),x=n-(n-d)-s*Math.sin(u),k="M"+(g-s)+","+d+" ",k+="L"+(g-f)+","+d+" ",k+="A"+f+","+f+" 0 0 1 "+p+","+h+" ",k+="L"+v+","+x+" ",k+="A"+s+","+s+" 0 0 0 "+(g-s)+","+d+" ",k+="Z ",{path:k})},e.canvas.customAttributes.ndl=function(t,i,o,n,a,r,l,c,m){var u=3.5*n/100,f=n/15,s=n/100;null!=e.config.pointerOptions.toplength&&void 0!=e.config.pointerOptions.toplength&&(u=e.config.pointerOptions.toplength),null!=e.config.pointerOptions.bottomlength&&void 0!=e.config.pointerOptions.bottomlength&&(f=e.config.pointerOptions.bottomlength),null!=e.config.pointerOptions.bottomwidth&&void 0!=e.config.pointerOptions.bottomwidth&&(s=e.config.pointerOptions.bottomwidth);var g,d,p,h,v,x,k,b,y,M,F,S,L,w,A,z,N,C;return m?(g=(1-2*(t-i)/(o-i))*Math.PI,d=n/2-n/7,p=d-n/6.666666666666667*c,h=n/2+r,v=a/1.95+l,x=n/2+r+d*Math.cos(g),k=a-(a-v)-d*Math.sin(g),b=n/2+r+p*Math.cos(g),y=a-(a-v)-p*Math.sin(g),M=x+u*Math.cos(g),F=k-u*Math.sin(g),S=b-f*Math.cos(g),L=y+f*Math.sin(g),w=S+s*Math.sin(g),A=L+s*Math.cos(g),z=S-s*Math.sin(g),N=L-s*Math.cos(g),C="M"+w+","+A+" ",C+="L"+z+","+N+" ",C+="L"+M+","+F+" ",C+="Z ",{path:C}):(g=(1-(t-i)/(o-i))*Math.PI,d=n/2-n/10,p=d-n/6.666666666666667*c,h=n/2+r,v=a/1.25+l,x=n/2+r+d*Math.cos(g),k=a-(a-v)-d*Math.sin(g),b=n/2+r+p*Math.cos(g),y=a-(a-v)-p*Math.sin(g),M=x+u*Math.cos(g),F=k-u*Math.sin(g),S=b-f*Math.cos(g),L=y+f*Math.sin(g),w=S+s*Math.sin(g),A=L+s*Math.cos(g),z=S-s*Math.sin(g),N=L-s*Math.cos(g),C="M"+w+","+A+" ",C+="L"+z+","+N+" ",C+="L"+M+","+F+" ",C+="Z ",{path:C})},e.gauge=e.canvas.path().attr({stroke:"none",fill:e.config.gaugeColor,pki:[e.config.max,e.config.min,e.config.max,e.params.widgetW,e.params.widgetH,e.params.dx,e.params.dy,e.config.gaugeWidthScale,e.config.donut,e.config.reverse]}),e.level=e.canvas.path().attr({stroke:"none",fill:getColor(e.config.value,(e.config.value-e.config.min)/(e.config.max-e.config.min),e.config.levelColors,e.config.noGradient,e.config.customSectors),pki:[e.config.min,e.config.min,e.config.max,e.params.widgetW,e.params.widgetH,e.params.dx,e.params.dy,e.config.gaugeWidthScale,e.config.donut,e.config.reverse]}),e.config.donut&&e.level.transform("r"+e.config.donutStartAngle+", "+(e.params.widgetW/2+e.params.dx)+", "+(e.params.widgetH/1.95+e.params.dy)),e.config.pointer&&(e.needle=e.canvas.path().attr({stroke:null!==e.config.pointerOptions.stroke&&void 0!==e.config.pointerOptions.stroke?e.config.pointerOptions.stroke:"none","stroke-width":null!==e.config.pointerOptions.stroke_width&&void 0!==e.config.pointerOptions.stroke_width?e.config.pointerOptions.stroke_width:0,"stroke-linecap":null!==e.config.pointerOptions.stroke_linecap&&void 0!==e.config.pointerOptions.stroke_linecap?e.config.pointerOptions.stroke_linecap:"square",fill:null!==e.config.pointerOptions.color&&void 0!==e.config.pointerOptions.color?e.config.pointerOptions.color:"#000000",ndl:[e.config.min,e.config.min,e.config.max,e.params.widgetW,e.params.widgetH,e.params.dx,e.params.dy,e.config.gaugeWidthScale,e.config.donut]}),e.config.donut&&e.needle.transform("r"+e.config.donutStartAngle+", "+(e.params.widgetW/2+e.params.dx)+", "+(e.params.widgetH/1.95+e.params.dy))),e.txtTitle=e.canvas.text(e.params.titleX,e.params.titleY,e.config.title),e.txtTitle.attr({"font-size":e.params.titleFontSize,"font-weight":"bold","font-family":e.config.titleFontFamily,fill:e.config.titleFontColor,"fill-opacity":"1"}),setDy(e.txtTitle,e.params.titleFontSize,e.params.titleY),e.txtValue=e.canvas.text(e.params.valueX,e.params.valueY,0),e.txtValue.attr({"font-size":e.params.valueFontSize,"font-weight":"bold","font-family":e.config.valueFontFamily,fill:e.config.valueFontColor,"fill-opacity":"0"}),setDy(e.txtValue,e.params.valueFontSize,e.params.valueY),e.txtLabel=e.canvas.text(e.params.labelX,e.params.labelY,e.config.label),e.txtLabel.attr({"font-size":e.params.labelFontSize,"font-weight":"normal","font-family":"Arial",fill:e.config.labelFontColor,"fill-opacity":"0"}),setDy(e.txtLabel,e.params.labelFontSize,e.params.labelY);var A=e.config.min;e.config.reverse&&(A=e.config.max),e.txtMinimum=A,e.config.minTxt?e.txtMinimum=e.config.minTxt:e.config.humanFriendly?e.txtMinimum=humanFriendlyNumber(A,e.config.humanFriendlyDecimal):e.config.formatNumber&&(e.txtMinimum=formatNumber(A)),e.txtMin=e.canvas.text(e.params.minX,e.params.minY,e.txtMinimum),e.txtMin.attr({"font-size":e.params.minFontSize,"font-weight":"normal","font-family":"Arial",fill:e.config.labelFontColor,"fill-opacity":e.config.hideMinMax||e.config.donut?"0":"1"}),setDy(e.txtMin,e.params.minFontSize,e.params.minY);var z=e.config.max;e.config.reverse&&(z=e.config.min),e.txtMaximum=z,e.config.maxTxt?e.txtMaximum=e.config.maxTxt:e.config.humanFriendly?e.txtMaximum=humanFriendlyNumber(z,e.config.humanFriendlyDecimal):e.config.formatNumber&&(e.txtMaximum=formatNumber(z)),e.txtMax=e.canvas.text(e.params.maxX,e.params.maxY,e.txtMaximum),e.txtMax.attr({"font-size":e.params.maxFontSize,"font-weight":"normal","font-family":"Arial",fill:e.config.labelFontColor,"fill-opacity":e.config.hideMinMax||e.config.donut?"0":"1"}),setDy(e.txtMax,e.params.maxFontSize,e.params.maxY);var N=e.canvas.canvas.childNodes[1],C="http://www.w3.org/2000/svg";"undefined"!==ie&&9>ie||("undefined"!==ie?onCreateElementNsReady(function(){e.generateShadow(C,N)}):e.generateShadow(C,N)),C=null,e.config.textRenderer?e.originalValue=e.config.textRenderer(e.originalValue):e.config.humanFriendly?e.originalValue=humanFriendlyNumber(e.originalValue,e.config.humanFriendlyDecimal)+e.config.symbol:e.config.formatNumber?e.originalValue=formatNumber(e.originalValue)+e.config.symbol:e.originalValue=(1*e.originalValue).toFixed(e.config.decimals)+e.config.symbol,e.config.counter===!0?(eve.on("raphael.anim.frame."+e.level.id,function(){var t=e.level.attr("pki")[0];e.config.reverse&&(t=1*e.config.max+1*e.config.min-1*e.level.attr("pki")[0]),e.config.textRenderer?e.txtValue.attr("text",e.config.textRenderer(Math.floor(t))):e.config.humanFriendly?e.txtValue.attr("text",humanFriendlyNumber(Math.floor(t),e.config.humanFriendlyDecimal)+e.config.symbol):e.config.formatNumber?e.txtValue.attr("text",formatNumber(Math.floor(t))+e.config.symbol):e.txtValue.attr("text",(1*t).toFixed(e.config.decimals)+e.config.symbol),setDy(e.txtValue,e.params.valueFontSize,e.params.valueY),t=null}),eve.on("raphael.anim.finish."+e.level.id,function(){e.txtValue.attr({text:e.originalValue}),setDy(e.txtValue,e.params.valueFontSize,e.params.valueY)})):eve.on("raphael.anim.start."+e.level.id,function(){e.txtValue.attr({text:e.originalValue}),setDy(e.txtValue,e.params.valueFontSize,e.params.valueY)});var V=e.config.value;e.config.reverse&&(V=1*e.config.max+1*e.config.min-1*e.config.value),e.level.animate({pki:[V,e.config.min,e.config.max,e.params.widgetW,e.params.widgetH,e.params.dx,e.params.dy,e.config.gaugeWidthScale,e.config.donut,e.config.reverse]},e.config.startAnimationTime,e.config.startAnimationType,e.config.onAnimationEnd),e.config.pointer&&e.needle.animate({ndl:[V,e.config.min,e.config.max,e.params.widgetW,e.params.widgetH,e.params.dx,e.params.dy,e.config.gaugeWidthScale,e.config.donut]},e.config.startAnimationTime,e.config.startAnimationType),e.txtValue.animate({"fill-opacity":e.config.hideValue?"0":"1"},e.config.startAnimationTime,e.config.startAnimationType),e.txtLabel.animate({"fill-opacity":"1"},e.config.startAnimationTime,e.config.startAnimationType)},JustGage.prototype.refresh=function(t,e,i){var o,n,a=this,e=e||null;if(i&&"object"==typeof i)for(var r in i)i.hasOwnProperty(r)&&(a.config[r]=i[r]);null!==e&&(a.config.max=e,a.txtMaximum=a.config.max,a.config.maxTxt?a.txtMaximum=a.config.maxTxt:a.config.humanFriendly?a.txtMaximum=humanFriendlyNumber(a.config.max,a.config.humanFriendlyDecimal):a.config.formatNumber&&(a.txtMaximum=formatNumber(a.config.max)),a.config.reverse?(a.txtMin.attr({text:a.txtMaximum}),a.txtMax.attr({text:a.txtMinimum}),setDy(a.txtMin,a.params.minFontSize,a.params.minY),setDy(a.txtMax,a.params.minFontSize,a.params.minY)):(a.txtMax.attr({text:a.txtMaximum}),setDy(a.txtMax,a.params.maxFontSize,a.params.maxY))),o=t,1*t>1*a.config.max&&(t=1*a.config.max),1*t<1*a.config.min&&(t=1*a.config.min),n=getColor(t,(t-a.config.min)/(a.config.max-a.config.min),a.config.levelColors,a.config.noGradient,a.config.customSectors),o=a.config.textRenderer?a.config.textRenderer(o):a.config.humanFriendly?humanFriendlyNumber(o,a.config.humanFriendlyDecimal)+a.config.symbol:a.config.formatNumber?formatNumber((1*o).toFixed(a.config.decimals))+a.config.symbol:(1*o).toFixed(a.config.decimals)+a.config.symbol,a.originalValue=o,a.config.value=1*t,a.config.counter||(a.txtValue.attr({text:o}),setDy(a.txtValue,a.params.valueFontSize,a.params.valueY));var l=a.config.value;a.config.reverse&&(l=1*a.config.max+1*a.config.min-1*a.config.value),a.level.animate({pki:[l,a.config.min,a.config.max,a.params.widgetW,a.params.widgetH,a.params.dx,a.params.dy,a.config.gaugeWidthScale,a.config.donut,a.config.reverse],fill:n},a.config.refreshAnimationTime,a.config.refreshAnimationType,a.config.onAnimationEnd),a.config.pointer&&a.needle.animate({ndl:[l,a.config.min,a.config.max,a.params.widgetW,a.params.widgetH,a.params.dx,a.params.dy,a.config.gaugeWidthScale,a.config.donut]},a.config.refreshAnimationTime,a.config.refreshAnimationType),e=null},JustGage.prototype.generateShadow=function(t,e){var i,o,n,a,r,l,c,m=this,u="inner-shadow-"+m.config.id;i=document.createElementNS(t,"filter"),i.setAttribute("id",u),e.appendChild(i),o=document.createElementNS(t,"feOffset"),o.setAttribute("dx",0),o.setAttribute("dy",m.config.shadowVerticalOffset),i.appendChild(o),n=document.createElementNS(t,"feGaussianBlur"),n.setAttribute("result","offset-blur"),n.setAttribute("stdDeviation",m.config.shadowSize),i.appendChild(n),a=document.createElementNS(t,"feComposite"),a.setAttribute("operator","out"),a.setAttribute("in","SourceGraphic"),a.setAttribute("in2","offset-blur"),a.setAttribute("result","inverse"),i.appendChild(a),r=document.createElementNS(t,"feFlood"),r.setAttribute("flood-color","black"),r.setAttribute("flood-opacity",m.config.shadowOpacity),r.setAttribute("result","color"),i.appendChild(r),l=document.createElementNS(t,"feComposite"),l.setAttribute("operator","in"),l.setAttribute("in","color"),l.setAttribute("in2","inverse"),l.setAttribute("result","shadow"),i.appendChild(l),c=document.createElementNS(t,"feComposite"),c.setAttribute("operator","over"),c.setAttribute("in","shadow"),c.setAttribute("in2","SourceGraphic"),i.appendChild(c),m.config.hideInnerShadow||(m.canvas.canvas.childNodes[2].setAttribute("filter","url(#"+u+")"),m.canvas.canvas.childNodes[3].setAttribute("filter","url(#"+u+")")),c=null};var ie=function(){for(var t,e=3,i=document.createElement("div"),o=i.getElementsByTagName("i");i.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",o[0];);return e>4?e:t}();